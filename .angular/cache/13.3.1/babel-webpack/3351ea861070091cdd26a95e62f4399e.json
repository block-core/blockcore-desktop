{"ast":null,"code":"// OP_0 [signatures ...]\nvar bscript = require('../../script');\n\nvar OPS = require('bitcoin-ops');\n\nfunction partialSignature(value) {\n  return value === OPS.OP_0 || bscript.isCanonicalScriptSignature(value);\n}\n\nfunction check(script, allowIncomplete) {\n  var chunks = bscript.decompile(script);\n  if (chunks.length < 2) return false;\n  if (chunks[0] !== OPS.OP_0) return false;\n\n  if (allowIncomplete) {\n    return chunks.slice(1).every(partialSignature);\n  }\n\n  return chunks.slice(1).every(bscript.isCanonicalScriptSignature);\n}\n\ncheck.toJSON = function () {\n  return 'multisig input';\n};\n\nmodule.exports = {\n  check: check\n};","map":null,"metadata":{},"sourceType":"script"}