{"ast":null,"code":"import _classCallCheck from \"D:\\\\Github\\\\Miladsoft\\\\blockcore-hub-1\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"D:\\\\Github\\\\Miladsoft\\\\blockcore-hub-1\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\n\nvar _a, _b, _c, _d;\n\nimport { Component, ViewEncapsulation, HostBinding } from '@angular/core';\nimport { WalletService } from 'src/app/services/wallet.service';\nimport { ApiService } from 'src/app/services/api.service';\nimport { WalletInfo } from 'src/app/classes/wallet-info';\nimport { GlobalService } from 'src/app/services/global.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { NotificationService } from 'src/app/services/notification.service';\n\nvar ToolsComponent = /*#__PURE__*/function () {\n  function ToolsComponent(snackBar, wallet, notifications, globalService, apiService) {\n    _classCallCheck(this, ToolsComponent);\n\n    this.snackBar = snackBar;\n    this.wallet = wallet;\n    this.notifications = notifications;\n    this.globalService = globalService;\n    this.apiService = apiService;\n    this.hostClass = true;\n    this.resyncTriggered = false;\n  }\n\n  _createClass(ToolsComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var walletInfo = new WalletInfo(this.globalService.getWalletName());\n      this.getExtPubKey(walletInfo);\n    }\n  }, {\n    key: \"resync\",\n    value: function resync() {\n      this.wallet.resync();\n      this.resyncTriggered = true;\n      this.notifications.add({\n        title: 'Wallet Synchronization',\n        hint: 'Your wallet is updating its history',\n        message: 'You triggered the wallet re-sync option from the tools section. This will scan the blockchain for any transactions that are related to your wallet, and store that information in your history.<br><br>Your balance might show incorrect sum during this process.',\n        icon: 'info'\n      });\n    }\n  }, {\n    key: \"onCopiedClick\",\n    value: function onCopiedClick() {\n      this.snackBar.open('The extended public key has been copied to your clipboard.', null, {\n        duration: 3000\n      });\n      return false;\n    }\n  }, {\n    key: \"getExtPubKey\",\n    value: function getExtPubKey(walletInfo) {\n      var _this = this;\n\n      this.apiService.getExtPubkey(walletInfo).subscribe(function (response) {\n        _this.extPubKey = response;\n      }, function (error) {\n        _this.apiService.handleError(error);\n      });\n    }\n  }]);\n\n  return ToolsComponent;\n}();\n\n__decorate([HostBinding('class.app-tools'), __metadata(\"design:type\", Object)], ToolsComponent.prototype, \"hostClass\", void 0);\n\nToolsComponent = __decorate([Component({\n  selector: 'app-tools',\n  templateUrl: './tools.component.html',\n  styleUrls: ['./tools.component.scss'],\n  encapsulation: ViewEncapsulation.None\n}), __metadata(\"design:paramtypes\", [MatSnackBar, typeof (_a = typeof WalletService !== \"undefined\" && WalletService) === \"function\" ? _a : Object, typeof (_b = typeof NotificationService !== \"undefined\" && NotificationService) === \"function\" ? _b : Object, typeof (_c = typeof GlobalService !== \"undefined\" && GlobalService) === \"function\" ? _c : Object, typeof (_d = typeof ApiService !== \"undefined\" && ApiService) === \"function\" ? _d : Object])], ToolsComponent);\nexport { ToolsComponent };","map":null,"metadata":{},"sourceType":"module"}